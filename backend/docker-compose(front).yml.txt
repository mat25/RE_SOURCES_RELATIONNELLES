# docker-compose (pour le front)

services:
    database:
      image: 'mysql'
      ports:
        - '3306:3306'
      env_file: ".env"
      volumes:
        - './data/db/:/var/lib/mysql'

    phpmyadmin:
      image: phpmyadmin/phpmyadmin
      ports:
        - '8082:80'
      container_name: phpmyadmin
      environment:
        - PMA_HOST=database
        - PMA_PORT=3306
      depends_on:
        - database

    api:
      build: .
      container_name: mon-api
      ports:
        - "8080:8080"
      depends_on:
        - database
      environment:
          SPRING_DATASOURCE_URL: jdbc:mysql://database:3306/db_re_sources_relationnelles
          SPRING_DATASOURCE_USERNAME: root
          SPRING_DATASOURCE_PASSWORD: password